<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å¢¨å”å®¶åº­è®°è´¦ - ç»Ÿè®¡</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        :root {
            --primary-color: #409EFF;
            --success-color: #67C23A;
            --danger-color: #F56C6C;
            --text-color: #303133;
            --text-light: #909399;
            --bg-color: #F5F7FA;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }
        
        .header {
            background-color: white;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #E4E7ED;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin: 0;
        }
        
        .btn-text {
            background: none;
            border: none;
            color: var(--primary-color);
            font-size: 1rem;
            padding: 0.5rem;
            cursor: pointer;
        }
        
        .btn-text:hover {
            opacity: 0.8;
        }
        
        .date-selector {
            background-color: white;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #E4E7ED;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .date-range {
            display: flex;
            gap: 0.5rem;
        }
        
        .date-btn {
            padding: 0.5rem 1rem;
            border: 1px solid #DCDFE6;
            border-radius: 20px;
            background-color: white;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .date-btn.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .custom-date {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary-color);
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .tab-container {
            background-color: white;
            margin: 1rem;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);
        }
        
        .tabs {
            display: flex;
            border-bottom: 1px solid #E4E7ED;
        }
        
        .tab {
            flex: 1;
            padding: 1rem 0;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .tab.active {
            color: var(--primary-color);
        }
        
        .tab.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 3px;
            background-color: var(--primary-color);
            border-radius: 2px;
        }
        
        .tab-content {
            padding: 1.5rem;
        }
        
        .chart-container {
            margin-bottom: 2rem;
        }
        
        .chart-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }
        
        .chart {
            width: 100%;
            height: 300px;
        }
        
        .stats-summary {
            display: flex;
            justify-content: space-around;
            margin-bottom: 2rem;
            padding: 1rem 0;
            border-bottom: 1px solid #E4E7ED;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: var(--text-light);
            margin-bottom: 0.5rem;
        }
        
        .stat-value {
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .income {
            color: var(--success-color);
        }
        
        .expense {
            color: var(--danger-color);
        }
        
        .balance {
            color: var(--primary-color);
        }
        
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: white;
            border-top: 1px solid #E4E7ED;
            display: flex;
            justify-content: space-around;
            padding: 0.5rem 0;
            z-index: 100;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.5rem;
            text-decoration: none;
            color: var(--text-light);
            font-size: 0.8rem;
        }
        
        .nav-item.active {
            color: var(--primary-color);
        }
        
        .nav-icon {
            font-size: 1.2rem;
            margin-bottom: 0.3rem;
        }
        
        .export-btn {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: white;
            border: none;
            box-shadow: 0 4px 12px rgba(64, 158, 255, 0.4);
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 99;
        }
        
        .export-btn:hover {
            background-color: #66B1FF;
            transform: scale(1.1);
        }
    </style>
</head>
<body>
    <div class="header">
        <div></div>
        <h1 class="header-title">ç»Ÿè®¡åˆ†æ</h1>
        <button class="btn-text">ç­›é€‰</button>
    </div>
    
    <div class="date-selector">
        <div class="date-range">
            <button class="date-btn active">ä»Šå¤©</button>
            <button class="date-btn">æœ¬å‘¨</button>
            <button class="date-btn">æœ¬æœˆ</button>
            <button class="date-btn">æœ¬å¹´</button>
        </div>
        <div class="custom-date">
            <span>è‡ªå®šä¹‰</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
            </svg>
        </div>
    </div>
    
    <div class="tab-container">
        <div class="tabs">
            <div class="tab active" data-tab="overview">æ¦‚è§ˆ</div>
            <div class="tab" data-tab="category">åˆ†ç±»</div>
            <div class="tab" data-tab="account">è´¦æˆ·</div>
            <div class="tab" data-tab="trend">è¶‹åŠ¿</div>
        </div>
        
        <div class="tab-content">
            <!-- æ¦‚è§ˆæ ‡ç­¾é¡µ -->
            <div id="overview" class="tab-pane active">
                <div class="stats-summary">
                    <div class="stat-item">
                        <div class="stat-label">æ€»æ”¶å…¥</div>
                        <div class="stat-value income">Â¥12,345.67</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">æ€»æ”¯å‡º</div>
                        <div class="stat-value expense">Â¥8,901.23</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">ç»“ä½™</div>
                        <div class="stat-value balance">Â¥3,444.44</div>
                    </div>
                </div>
                
                <div class="chart-container">
                    <div class="chart-title">æ”¶æ”¯å¯¹æ¯”</div>
                    <div id="incomeExpenseChart" class="chart"></div>
                </div>
                
                <div class="chart-container">
                    <div class="chart-title">æ”¶æ”¯è¶‹åŠ¿</div>
                    <div id="trendChart" class="chart"></div>
                </div>
            </div>
            
            <!-- åˆ†ç±»æ ‡ç­¾é¡µ -->
            <div id="category" class="tab-pane" style="display: none;">
                <div class="chart-container">
                    <div class="chart-title">æ”¯å‡ºåˆ†ç±»å æ¯”</div>
                    <div id="expenseCategoryChart" class="chart"></div>
                </div>
                
                <div class="chart-container">
                    <div class="chart-title">æ”¶å…¥åˆ†ç±»å æ¯”</div>
                    <div id="incomeCategoryChart" class="chart"></div>
                </div>
            </div>
            
            <!-- è´¦æˆ·æ ‡ç­¾é¡µ -->
            <div id="account" class="tab-pane" style="display: none;">
                <div class="chart-container">
                    <div class="chart-title">è´¦æˆ·æ”¶æ”¯æƒ…å†µ</div>
                    <div id="accountChart" class="chart"></div>
                </div>
                
                <div class="chart-container">
                    <div class="chart-title">è´¦æˆ·ä½™é¢åˆ†å¸ƒ</div>
                    <div id="accountBalanceChart" class="chart"></div>
                </div>
            </div>
            
            <!-- è¶‹åŠ¿æ ‡ç­¾é¡µ -->
            <div id="trend" class="tab-pane" style="display: none;">
                <div class="chart-container">
                    <div class="chart-title">æ”¶æ”¯è¶‹åŠ¿</div>
                    <div id="detailedTrendChart" class="chart"></div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- åº•éƒ¨å¯¼èˆª -->
    <div class="bottom-nav">
        <a href="index.html" class="nav-item">
            <div class="nav-icon">ğŸ </div>
            <div class="nav-text">é¦–é¡µ</div>
        </a>
        <a href="add-record.html" class="nav-item">
            <div class="nav-icon">â•</div>
            <div class="nav-text">è®°è´¦</div>
        </a>
        <a href="statistics.html" class="nav-item active">
            <div class="nav-icon">ğŸ“Š</div>
            <div class="nav-text">ç»Ÿè®¡</div>
        </a>
        <a href="profile.html" class="nav-item">
            <div class="nav-icon">ğŸ‘¤</div>
            <div class="nav-text">æˆ‘çš„</div>
        </a>
    </div>
    
    <!-- å¯¼å‡ºæŒ‰é’® -->
    <button class="export-btn" title="å¯¼å‡ºæ•°æ®">ğŸ“¤</button>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // æ ‡ç­¾åˆ‡æ¢
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function() {
                // ç§»é™¤æ‰€æœ‰æ ‡ç­¾çš„æ´»è·ƒçŠ¶æ€
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                // æ·»åŠ å½“å‰æ ‡ç­¾çš„æ´»è·ƒçŠ¶æ€
                this.classList.add('active');
                
                // éšè—æ‰€æœ‰æ ‡ç­¾å†…å®¹
                document.querySelectorAll('.tab-pane').forEach(pane => {
                    pane.style.display = 'none';
                });
                // æ˜¾ç¤ºå½“å‰æ ‡ç­¾å†…å®¹
                const tabId = this.dataset.tab;
                document.getElementById(tabId).style.display = 'block';
                
                // é‡æ–°æ¸²æŸ“å›¾è¡¨
                renderCharts(tabId);
            });
        });
        
        // æ—¥æœŸèŒƒå›´åˆ‡æ¢
        document.querySelectorAll('.date-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„æ´»è·ƒçŠ¶æ€
                document.querySelectorAll('.date-btn').forEach(b => b.classList.remove('active'));
                // æ·»åŠ å½“å‰æŒ‰é’®çš„æ´»è·ƒçŠ¶æ€
                this.classList.add('active');
            });
        });
        
        // æ¸²æŸ“å›¾è¡¨
        function renderCharts(tabId) {
            switch(tabId) {
                case 'overview':
                    renderIncomeExpenseChart();
                    renderTrendChart();
                    break;
                case 'category':
                    renderExpenseCategoryChart();
                    renderIncomeCategoryChart();
                    break;
                case 'account':
                    renderAccountChart();
                    renderAccountBalanceChart();
                    break;
                case 'trend':
                    renderDetailedTrendChart();
                    break;
            }
        }
        
        // æ”¶æ”¯å¯¹æ¯”å›¾è¡¨
        function renderIncomeExpenseChart() {
            const chart = echarts.init(document.getElementById('incomeExpenseChart'));
            const option = {
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                legend: {
                    data: ['æ”¶å…¥', 'æ”¯å‡º'],
                    bottom: 0
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '15%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ']
                },
                yAxis: {
                    type: 'value'
                },
                series: [
                    {
                        name: 'æ”¶å…¥',
                        type: 'bar',
                        data: [12000, 19000, 36000, 28000, 45000, 32000],
                        itemStyle: {
                            color: '#67C23A'
                        }
                    },
                    {
                        name: 'æ”¯å‡º',
                        type: 'bar',
                        data: [8000, 15000, 22000, 18000, 30000, 25000],
                        itemStyle: {
                            color: '#F56C6C'
                        }
                    }
                ]
            };
            chart.setOption(option);
        }
        
        // æ”¶æ”¯è¶‹åŠ¿å›¾è¡¨
        function renderTrendChart() {
            const chart = echarts.init(document.getElementById('trendChart'));
            const option = {
                tooltip: {
                    trigger: 'axis'
                },
                legend: {
                    data: ['æ”¶å…¥', 'æ”¯å‡º'],
                    bottom: 0
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '15%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['1æ—¥', '2æ—¥', '3æ—¥', '4æ—¥', '5æ—¥', '6æ—¥', '7æ—¥', '8æ—¥', '9æ—¥', '10æ—¥']
                },
                yAxis: {
                    type: 'value'
                },
                series: [
                    {
                        name: 'æ”¶å…¥',
                        type: 'line',
                        data: [1200, 1900, 3600, 2800, 4500, 3200, 2400, 3800, 4200, 3600],
                        itemStyle: {
                            color: '#67C23A'
                        },
                        smooth: true
                    },
                    {
                        name: 'æ”¯å‡º',
                        type: 'line',
                        data: [800, 1500, 2200, 1800, 3000, 2500, 1800, 2800, 3200, 2600],
                        itemStyle: {
                            color: '#F56C6C'
                        },
                        smooth: true
                    }
                ]
            };
            chart.setOption(option);
        }
        
        // æ”¯å‡ºåˆ†ç±»å æ¯”å›¾è¡¨
        function renderExpenseCategoryChart() {
            const chart = echarts.init(document.getElementById('expenseCategoryChart'));
            const option = {
                tooltip: {
                    trigger: 'item'
                },
                legend: {
                    orient: 'vertical',
                    right: 10,
                    top: 'center'
                },
                series: [
                    {
                        name: 'æ”¯å‡ºåˆ†ç±»',
                        type: 'pie',
                        radius: ['40%', '70%'],
                        avoidLabelOverlap: false,
                        itemStyle: {
                            borderRadius: 10,
                            borderColor: '#fff',
                            borderWidth: 2
                        },
                        label: {
                            show: false,
                            position: 'center'
                        },
                        emphasis: {
                            label: {
                                show: true,
                                fontSize: 20,
                                fontWeight: 'bold'
                            }
                        },
                        labelLine: {
                            show: false
                        },
                        data: [
                            { value: 3000, name: 'é¤é¥®', itemStyle: { color: '#F56C6C' } },
                            { value: 2000, name: 'äº¤é€š', itemStyle: { color: '#E6A23C' } },
                            { value: 1500, name: 'è´­ç‰©', itemStyle: { color: '#909399' } },
                            { value: 1000, name: 'å¨±ä¹', itemStyle: { color: '#67C23A' } },
                            { value: 800, name: 'æ°´ç”µ', itemStyle: { color: '#409EFF' } },
                            { value: 600, name: 'åŒ»ç–—', itemStyle: { color: '#C0C4CC' } }
                        ]
                    }
                ]
            };
            chart.setOption(option);
        }
        
        // æ”¶å…¥åˆ†ç±»å æ¯”å›¾è¡¨
        function renderIncomeCategoryChart() {
            const chart = echarts.init(document.getElementById('incomeCategoryChart'));
            const option = {
                tooltip: {
                    trigger: 'item'
                },
                legend: {
                    orient: 'vertical',
                    right: 10,
                    top: 'center'
                },
                series: [
                    {
                        name: 'æ”¶å…¥åˆ†ç±»',
                        type: 'pie',
                        radius: ['40%', '70%'],
                        avoidLabelOverlap: false,
                        itemStyle: {
                            borderRadius: 10,
                            borderColor: '#fff',
                            borderWidth: 2
                        },
                        label: {
                            show: false,
                            position: 'center'
                        },
                        emphasis: {
                            label: {
                                show: true,
                                fontSize: 20,
                                fontWeight: 'bold'
                            }
                        },
                        labelLine: {
                            show: false
                        },
                        data: [
                            { value: 8000, name: 'å·¥èµ„', itemStyle: { color: '#67C23A' } },
                            { value: 3000, name: 'å¥–é‡‘', itemStyle: { color: '#409EFF' } },
                            { value: 1500, name: 'ç†è´¢', itemStyle: { color: '#E6A23C' } },
                            { value: 845.67, name: 'å…¶ä»–', itemStyle: { color: '#909399' } }
                        ]
                    }
                ]
            };
            chart.setOption(option);
        }
        
        // è´¦æˆ·æ”¶æ”¯æƒ…å†µå›¾è¡¨
        function renderAccountChart() {
            const chart = echarts.init(document.getElementById('accountChart'));
            const option = {
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                legend: {
                    data: ['æ”¶å…¥', 'æ”¯å‡º'],
                    bottom: 0
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '15%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['ç°é‡‘', 'é“¶è¡Œå¡', 'å¾®ä¿¡', 'æ”¯ä»˜å®']
                },
                yAxis: {
                    type: 'value'
                },
                series: [
                    {
                        name: 'æ”¶å…¥',
                        type: 'bar',
                        data: [2000, 5000, 3000, 2345.67],
                        itemStyle: {
                            color: '#67C23A'
                        }
                    },
                    {
                        name: 'æ”¯å‡º',
                        type: 'bar',
                        data: [1500, 3000, 2500, 1901.23],
                        itemStyle: {
                            color: '#F56C6C'
                        }
                    }
                ]
            };
            chart.setOption(option);
        }
        
        // è´¦æˆ·ä½™é¢åˆ†å¸ƒå›¾è¡¨
        function renderAccountBalanceChart() {
            const chart = echarts.init(document.getElementById('accountBalanceChart'));
            const option = {
                tooltip: {
                    trigger: 'item'
                },
                legend: {
                    orient: 'vertical',
                    right: 10,
                    top: 'center'
                },
                series: [
                    {
                        name: 'è´¦æˆ·ä½™é¢',
                        type: 'pie',
                        radius: '60%',
                        data: [
                            { value: 1234.56, name: 'ç°é‡‘', itemStyle: { color: '#409EFF' } },
                            { value: 5678.90, name: 'é“¶è¡Œå¡', itemStyle: { color: '#67C23A' } },
                            { value: 3456.78, name: 'å¾®ä¿¡', itemStyle: { color: '#E6A23C' } },
                            { value: 7890.12, name: 'æ”¯ä»˜å®', itemStyle: { color: '#F56C6C' } }
                        ],
                        emphasis: {
                            itemStyle: {
                                shadowBlur: 10,
                                shadowOffsetX: 0,
                                shadowColor: 'rgba(0, 0, 0, 0.5)'
                            }
                        }
                    }
                ]
            };
            chart.setOption(option);
        }
        
        // è¯¦ç»†è¶‹åŠ¿å›¾è¡¨
        function renderDetailedTrendChart() {
            const chart = echarts.init(document.getElementById('detailedTrendChart'));
            const option = {
                tooltip: {
                    trigger: 'axis'
                },
                legend: {
                    data: ['æ”¶å…¥', 'æ”¯å‡º'],
                    bottom: 0
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '15%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['1æ—¥', '2æ—¥', '3æ—¥', '4æ—¥', '5æ—¥', '6æ—¥', '7æ—¥', '8æ—¥', '9æ—¥', '10æ—¥', '11æ—¥', '12æ—¥', '13æ—¥', '14æ—¥', '15æ—¥']
                },
                yAxis: {
                    type: 'value'
                },
                series: [
                    {
                        name: 'æ”¶å…¥',
                        type: 'line',
                        data: [1200, 1900, 3600, 2800, 4500, 3200, 2400, 3800, 4200, 3600, 2800, 3500, 4100, 3300, 2900],
                        itemStyle: {
                            color: '#67C23A'
                        },
                        smooth: true
                    },
                    {
                        name: 'æ”¯å‡º',
                        type: 'line',
                        data: [800, 1500, 2200, 1800, 3000, 2500, 1800, 2800, 3200, 2600, 2000, 2400, 2800, 2200, 1900],
                        itemStyle: {
                            color: '#F56C6C'
                        },
                        smooth: true
                    }
                ]
            };
            chart.setOption(option);
        }
        
        // åˆå§‹åŒ–å›¾è¡¨
        renderCharts('overview');
        
        // çª—å£å¤§å°å˜åŒ–æ—¶é‡æ–°æ¸²æŸ“å›¾è¡¨
        window.addEventListener('resize', function() {
            const activeTab = document.querySelector('.tab.active').dataset.tab;
            renderCharts(activeTab);
        });
    </script>
</body>
</html>