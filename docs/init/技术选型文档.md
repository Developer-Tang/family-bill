# 墨唐家庭记账（FamilyBill）技术选型文档

##  技术栈概述

墨唐家庭记账（FamilyBill）采用轻量化、高效的技术栈，确保系统简单易用、性能稳定且部署灵活。以下是核心技术选型：

###  总体架构
- **架构模式**：前后端分离架构（轻量级实现）
- **通信协议**：RESTful API
- **认证授权**：简化JWT认证 + 基础权限控制
- **数据存储**：SQLite（默认，轻量单机）/ MySQL（可选，多设备协作）
- **部署方式**：轻量级Docker容器化部署

###  后端技术栈

| 类别 | 技术/框架 | 版本 | 选型理由 |
|------|----------|------|----------|
| **语言** | Go | 1.21+ | 编译型语言，性能优异，资源占用少，适合轻量级后端服务 |
| **Web框架** | Gin | v1.9.1+ | 轻量级高性能框架，路由系统灵活，中间件机制完善，学习曲线平缓 |
| **ORM** | GORM | v1.25.0+ | Go生态最成熟的ORM库，支持SQLite和MySQL，迁移工具强大 |
| **数据库** | SQLite | 3.40.0+ | 默认数据库，单文件零配置，适合个人和小家庭使用场景，符合轻量化理念 |
| | MySQL | 8.0+ | 可选数据库，支持多设备协作场景，稳定性好，按需启用 |
| **认证** | JWT | - | 无状态认证，便于多端访问场景 |
| **日志** | Go标准库log + 简单扩展 | - | 轻量级日志方案，满足基础需求，避免引入过重依赖 |
| **配置管理** | 简单配置文件 + 环境变量 | - | 轻量级配置方案，易于理解和维护 |

###  前端管理端技术栈

| 类别 | 技术/框架 | 版本 | 选型理由 |
|------|----------|------|----------|
| **框架** | Vue.js | 3.x | 渐进式JavaScript框架，学习曲线平缓，开发效率高 |
| **构建工具** | Vite | 4.x+ | 快速的前端构建工具，开发体验优异，构建体积小 |
| **包管理** | npm | - | 与Node.js标配，无需额外工具依赖 |
| **UI组件库** | Element Plus | 2.3.0+ | 基于Vue 3的UI组件库，组件丰富，轻量化配置 |
| **TypeScript** | 可选 | - | 按需使用，基础功能可先不使用TypeScript降低复杂度 |
| **状态管理** | Vue简单状态管理 | - | 使用Vue 3的响应式系统直接管理状态，避免引入额外库 |
| **路由** | Vue Router | 4.x | Vue官方路由管理器，功能简洁实用 |
| **图表库** | ECharts（精简版） | 5.4.0+ | 按需引入图表组件，减少包体积 |
| **HTTP客户端** | Axios | 1.4.0+ | 功能完善的HTTP请求库，使用简单 |

###  移动端技术栈

| 类别 | 技术/框架 | 版本 | 选型理由 |
|------|----------|------|----------|
| **开发框架** | UniApp | 3.0+ | 跨平台开发框架，一套代码覆盖多端，学习成本低 |
| **UI组件库** | uView | 3.x | 专为UniApp设计的轻量级UI组件库，按需引入 |
| **状态管理** | 简单全局状态管理 | - | 使用Vue实例或简单store管理状态，避免复杂依赖 |
| **图表组件** | uCharts | 2.0+ | 专为移动端优化的轻量级图表库 |

###  数据库选型

####  SQLite（默认，推荐）
- **适用场景**：个人使用、小家庭（2-5人）、单机部署
- **优势**：
  - 零配置，开箱即用
  - 单文件存储，便于备份和迁移
  - 轻量级，资源占用极少
  - 对于家庭记账完全足够的性能表现
  - 简化部署和维护
- **限制**：
  - 多用户同时在线编辑可能有性能瓶颈（但家庭使用场景很少发生）

####  MySQL（可选）
- **适用场景**：多成员家庭（5人以上）、小型团队、需要多设备同时高频访问
- **优势**：
  - 支持更多并发连接
  - 完善的事务支持
  - 适合多设备同时编辑场景
- **配置要求**：需要单独部署MySQL服务器或使用云数据库服务（增加复杂度）

###  部署与运维技术

| 类别 | 技术/工具 | 选型理由 |
|------|----------|----------|
| **容器化** | Docker | 标准化环境，简化部署，单容器即可运行 |
| **配置管理** | 环境变量 + 配置文件 | 简单直观，易于维护 |
| **数据备份** | 内置备份功能 + 定时任务 | 轻量级实现数据安全保障

##  技术选型决策过程

###  后端技术选型考量
- **轻量化优先**：选择Go语言确保高性能和低资源占用
- **简单易用**：Gin框架提供简洁的API，学习曲线平缓
- **数据库灵活性**：GORM支持SQLite和MySQL，满足不同用户场景
- **减少依赖**：避免引入Redis等额外组件，降低系统复杂度

###  前端技术选型考量
- **开发效率**：Vue 3学习曲线平缓，开发速度快
- **精简依赖**：避免过度使用状态管理库，减少复杂度
- **按需引入**：组件和功能按需引入，减小应用体积
- **用户体验**：在保证基本功能的前提下，优先考虑响应速度和流畅度

###  数据库选型考量
- **默认轻量化**：SQLite作为默认选项，零配置部署
- **场景适配**：只为真正需要的场景提供MySQL选项
- **数据安全**：内置数据备份机制，保障用户数据安全

###  部署方案考量
- **极致简单**：单容器部署方案，最小化配置要求
- **资源友好**：适合在低配置设备上运行（如树莓派）
- **易于维护**：减少外部依赖，降低维护难度

##  技术替代方案对比

###  后端框架对比

| 框架 | 优势 | 劣势 | 适用场景 |
|------|------|------|----------|
| **Gin** | 轻量、高性能，中间件机制灵活，学习曲线相对平缓 | - | 轻量化Web服务，API开发 |
| **Echo** | 极轻量，性能优秀 | 社区相对Gin小 | 极简API服务 |
| **Beego** | 全栈框架，功能丰富 | 较重，不符合轻量化理念 | 传统全栈应用 |
| **Fiber** | Express风格，学习成本低 | 生态不如Gin成熟 | Node.js开发者转Go |

**选型结论**：Gin在轻量级和功能性之间取得了最佳平衡，适合家庭记账应用的后端需求。

###  前端框架对比

| 框架 | 优势 | 劣势 | 适用场景 |
|------|------|------|----------|
| **Vue 3** | 学习曲线平缓，文档完善，体积适中 | - | 中小型应用，快速开发 |
| **React** | 组件生态丰富 | 学习成本高，应用体积较大 | 复杂大型应用 |
| **Angular** | 全功能框架 | 学习曲线陡峭，体积大，过于复杂 | 企业级应用 |

**选型结论**：Vue 3最符合家庭记账应用的轻量化需求，开发效率高，学习成本低。

###  移动端框架对比

| 框架 | 优势 | 劣势 | 适用场景 |
|------|------|------|----------|
| **UniApp** | 一套代码多端运行，Vue语法，轻量 | 部分高级原生功能支持有限 | 多平台轻量化应用 |
| **Flutter** | 原生性能，UI一致性好 | Dart学习成本，包体积大 | 对UI性能要求极高的应用 |
| **原生开发** | 性能最佳 | 开发成本高，需维护多套代码 | 复杂移动应用 |

**选型结论**：UniApp以最低的开发成本实现多平台覆盖，最适合家庭记账这类标准化应用。

###  数据库对比

| 数据库 | 优势 | 劣势 | 适用场景 |
|--------|------|------|----------|
| **SQLite** | 零配置，单文件，轻量级，易于备份 | 并发性能有限 | 个人/小家庭使用 |
| **MySQL** | 并发性能好，功能完善 | 需要额外部署和维护 | 多用户团队使用 |
| **PostgreSQL** | 功能强大，扩展性好 | 资源占用高，配置复杂 | 企业级应用 |

**选型结论**：SQLite作为默认选项，满足90%家庭用户需求；MySQL仅作为可选方案提供。

##  技术架构演进规划

###  近期规划（V1.0版本）
- 核心记账功能实现（收支记录、账户管理、基础统计）
- 个人和小家庭场景支持
- SQLite数据库方案（仅）
- 简单权限管理（家庭成员角色区分）
- 轻量级部署方案

###  中期规划（V2.0版本）
- 增加MySQL数据库选项（针对有需要的用户）
- 增强多成员协作功能
- 完善数据备份与恢复机制
- 丰富统计报表类型

###  远期规划（V3.0+版本）
- 根据实际用户反馈选择性增强功能
- 保持核心轻量化特性不变
- 优化移动端用户体验
- 增强数据安全性

##  技术选型总结

墨唐家庭记账（FamilyBill）的技术选型严格遵循"轻量化、简单易用"的核心原则：

1. **轻量化优先**：移除所有非必要的中间件和组件，降低系统复杂度和资源占用
2. **简单部署**：默认采用SQLite单文件数据库，实现零配置部署体验
3. **开发效率**：选择学习曲线平缓的技术栈，加快开发速度和问题排查
4. **按需扩展**：只为真正需要的场景提供额外选项（如MySQL），避免过度设计
5. **用户体验**：在轻量化基础上，确保核心功能流畅、稳定、易用

通过这套精简的技术选型，墨唐家庭记账能够为个人用户和小家庭提供真正"轻量、简单、高效"的财务管理工具，避免了企业级应用的复杂配置和资源消耗，让记账变得简单而愉悦。